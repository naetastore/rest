$(function () { const baseurl = window.sessionStorage.getItem('naetastore_base'); $('.js-signin').on('click', function () { const username = $('#username').val(); const password = $('#password').val(); $.ajax({ url: `${baseurl}auth/signin?username=${username}&password=${password}`, method: 'get', dataType: 'json', success: res => { if (res.status === true) { window.localStorage.setItem('naetastore_sess', res.session); window.localStorage.setItem('naetastore_name', res.username); window.location.href = res.redirect; } else { $('#alert').html(res.message); } } }) }); const signinBtn = $('.js-signin'); signinBtn[0].setAttribute('disabled', ''); username.addEventListener('keyup', function () { a(); }); password.addEventListener('keyup', function () { a(); }); function a() { if (username.value.length > 0 && password.value.length > 0) { signinBtn[0].removeAttribute('disabled', ''); } else { signinBtn[0].setAttribute('disabled', ''); } } });